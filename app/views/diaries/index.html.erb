<% #ログイン済みなら、編集／削除ボタンを表示 %>
<% if user_signed_in? %>
  <%= link_to '日記を新規に作成する', new_diary_path, class: "btn btn-secondary my-2" %>
<% end %>

<div class="row mb-2">
  <% #インスタンス変数を繰り返し表示 %>
  <% @diaries.each do |diary| %>
    <div class="col-md-6">

      <div class="card flex-md-row mb-4 box-shadow h-md-250">

        <div class="card-body-ellipsis d-flex flex-column align-items-start overflow-ellipsis">

          <h3 class="mb-0">
            <p>
              <%= link_to diary.title, diary_path(diary.id), class: "text-dark" %>
            </p>
          </h3>

          <p class="card-text mb-auto"><%= diary.body %></p>
          <p class="mb-1 text-muted"><%= diary.updated_at %></p>

          <% #ログイン済みなら、編集／削除ボタンを表示 %>
          <% if user_signed_in? %>
            <%# ボタンを横並びにする場合は、「btn-toolbar」「btn-group」で囲ってやると良い %>
            <div class="btn-toolbar">
              <div class="btn-group">
                <%= link_to '編集', edit_diary_path(diary.id), class: "btn btn-sm btn-outline-info" %>
                <%= link_to '削除', diary, method: :delete, class: "btn btn-sm btn-outline-danger", data: { confirm: '削除してよろしいですか？' } %>
              </div>
            </div>
          <% end %>

        </div>

      </div>

    </div>

  <% end %>

</div>
